<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Cafeteria Universitaria</title>

<style>
body{
    font-family: Arial, sans-serif;
    margin:0;
    background:linear-gradient(to right,#f8f9fa,#e9ecef);
}

header{
    background:#6f42c1;
    color:white;
    text-align:center;
    padding:20px;
}

main{
    padding:20px;
    max-width:900px;
    margin:auto;
}

.formulario{
    background:white;
    padding:20px;
    border-radius:12px;
    box-shadow:0 4px 10px rgba(0,0,0,0.1);
}

input, select, button{
    width:100%;
    padding:10px;
    margin-top:10px;
    border-radius:8px;
    border:1px solid #ccc;
}

button{
    background:#6f42c1;
    color:white;
    border:none;
    cursor:pointer;
    transition:0.3s;
}

button:hover{
    background:#59359c;
}

#listaPedidos{
    margin-top:25px;
}

.pedido{
    background:white;
    padding:15px;
    border-radius:10px;
    margin-top:10px;
    box-shadow:0 3px 8px rgba(0,0,0,0.1);
}

.eliminar{
    background:#dc3545;
    margin-top:10px;
}

.total{
    margin-top:20px;
    font-size:18px;
    font-weight:bold;
    color:#6f42c1;
}

.temaOscuro{
    background:#212529;
    color:white;
}

.temaOscuro .formulario,
.temaOscuro .pedido{
    background:#343a40;
    color:white;
}
</style>
</head>

<body>

<header>
<h1>â˜• Cafeteria Universitaria</h1>
</header>

<main>

<section class="formulario">

<label>Nombre del estudiante</label>
<input type="text" id="nombre">

<label>Producto</label>
<select id="producto">
<option value="">Seleccionar</option>
<option value="1.50">Cafe</option>
<option value="2.00">Capuchino</option>
<option value="1.25">Pan dulce</option>
<option value="3.00">Sandwich</option>
</select>

<label>Cantidad</label>
<input type="number" id="cantidad" min="1">

<button id="agregar">Agregar pedido</button>
<button id="calcular">Calcular total</button>
<button id="tema">Cambiar tema</button>

<p id="mensaje"></p>

</section>

<section id="listaPedidos"></section>

<p class="total" id="total"></p>

</main>

<script>
const nombre = document.getElementById("nombre");
const producto = document.querySelector("#producto");
const cantidad = document.getElementById("cantidad");
const botonAgregar = document.getElementById("agregar");
const lista = document.querySelector("#listaPedidos");
const mensaje = document.querySelector("#mensaje");
const totalTexto = document.getElementById("total");
const botonCalcular = document.querySelector("#calcular");
const botonTema = document.querySelector("#tema");
const body = document.querySelector("body");

let total = 0;

botonAgregar.addEventListener("click", function(){

    if(nombre.value === "" || producto.value === "" || cantidad.value === ""){
        mensaje.textContent = "Completa todos los campos";
        mensaje.style.color = "red";
        return;
    }

    const precio = parseFloat(producto.value);
    const cant = parseInt(cantidad.value);
    const subtotal = precio * cant;

    const pedido = document.createElement("article");
    pedido.classList.add("pedido");

    pedido.innerHTML = `
        <h3>${nombre.value}</h3>
        <p>Producto: ${producto.options[producto.selectedIndex].text}</p>
        <p>Cantidad: ${cant}</p>
        <p>Subtotal: $${subtotal.toFixed(2)}</p>
        <button class="eliminar">Eliminar</button>
    `;

    lista.appendChild(pedido);

    total += subtotal;

    const botonesEliminar = document.getElementsByClassName("eliminar");
    for(let boton of botonesEliminar){
        boton.onclick = function(){
            const card = this.parentElement;
            const textoSubtotal = card.querySelector("p:nth-child(4)").textContent;
            const valor = parseFloat(textoSubtotal.replace("Subtotal: $",""));
            total -= valor;
            card.remove();
        }
    }

    mensaje.textContent = "Pedido agregado";
    mensaje.style.color = "green";

    nombre.value="";
    producto.value="";
    cantidad.value="";
});

botonCalcular.addEventListener("click", function(){
    totalTexto.textContent = "Total a pagar: $" + total.toFixed(2);
});

botonTema.addEventListener("click", function(){
    body.classList.toggle("temaOscuro");
});
</script>

</body>
</html>
